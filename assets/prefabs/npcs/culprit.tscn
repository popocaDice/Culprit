[gd_scene load_steps=20 format=3 uid="uid://1ryjvorgaade"]

[ext_resource type="PackedScene" uid="uid://bsmn03cff873c" path="res://assets/models/Characters/Culprit.glb" id="1_7b6bo"]
[ext_resource type="Script" path="res://assets/scripts/NPCS/culprit.gd" id="2_r5e0i"]
[ext_resource type="Shader" path="res://assets/shaders/ghostBody.gdshader" id="2_tga2q"]
[ext_resource type="Texture2D" uid="uid://byxh254b2u3tg" path="res://assets/models/Characters/Culprit_texture.png" id="2_u3rq5"]
[ext_resource type="Shader" path="res://assets/shaders/ghostBodyTextured.gdshader" id="3_j5yvx"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o06hh"]
render_priority = 0
shader = ExtResource("2_tga2q")
shader_parameter/albedo = Color(0.227451, 0.521569, 0.631373, 1)
shader_parameter/emission_color = Color(0.227451, 0.521569, 0.631373, 1)
shader_parameter/emission_amount = 1.0
shader_parameter/rim_limit = 0.392
shader_parameter/rim_steepness = 0.273

[sub_resource type="ShaderMaterial" id="ShaderMaterial_77uri"]
render_priority = 0
shader = ExtResource("3_j5yvx")
shader_parameter/albedo = Color(0.227451, 0.521569, 0.631373, 1)
shader_parameter/emission_color = Color(0.227451, 0.521569, 0.631373, 1)
shader_parameter/emission_amount = 1.0
shader_parameter/alpha_limit = 1.0
shader_parameter/rim_limit = 0.392
shader_parameter/rim_steepness = 0.273
shader_parameter/uv_scale = Vector3(1, 1, 1)
shader_parameter/uv_offset = null
shader_parameter/texture_albedo = ExtResource("2_u3rq5")

[sub_resource type="Gradient" id="Gradient_82ccg"]
colors = PackedColorArray(0.103109, 0.235558, 0.284981, 1, 0.360784, 0.635294, 0.741176, 0.137255)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_hiaii"]
gradient = SubResource("Gradient_82ccg")

[sub_resource type="Curve" id="Curve_4j0ig"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.128049, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -2.84335, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_o8oa1"]
width = 64
curve = SubResource("Curve_4j0ig")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_y3mn1"]
lifetime_randomness = 0.4
emission_shape = 6
emission_ring_axis = Vector3(0, 1, 0)
emission_ring_height = 0.0
emission_ring_radius = 0.15
emission_ring_inner_radius = 0.1
angle_min = -360.0
angle_max = 360.0
direction = Vector3(0, 1, 0)
spread = 25.0
initial_velocity_min = 0.01
initial_velocity_max = 0.3
gravity = Vector3(0, 0, 0)
linear_accel_max = 1.0
attractor_interaction_enabled = false
scale_min = 0.02
scale_max = 0.17
scale_curve = SubResource("CurveTexture_o8oa1")
color = Color(0.368627, 0.643137, 0.752941, 1)
color_ramp = SubResource("GradientTexture1D_hiaii")
hue_variation_min = -0.03
hue_variation_max = 0.03
turbulence_enabled = true
turbulence_noise_scale = 5.0
turbulence_noise_speed_random = 0.5
turbulence_influence_min = 0.01

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_30jdb"]
shading_mode = 0
vertex_color_use_as_albedo = true
billboard_mode = 2
billboard_keep_scale = true

[sub_resource type="QuadMesh" id="QuadMesh_d5qb4"]
lightmap_size_hint = Vector2i(7, 7)
material = SubResource("StandardMaterial3D_30jdb")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wdwg8"]
animation = &"appear"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p4y7j"]
animation = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ly2kr"]
xfade_time = 2.0
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ye705"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_p8p5a"]
states/appear/node = SubResource("AnimationNodeAnimation_wdwg8")
states/appear/position = Vector2(398, 100)
states/idle/node = SubResource("AnimationNodeAnimation_p4y7j")
states/idle/position = Vector2(716, 100)
transitions = ["appear", "idle", SubResource("AnimationNodeStateMachineTransition_ly2kr"), "Start", "appear", SubResource("AnimationNodeStateMachineTransition_ye705")]

[node name="Culprit" instance=ExtResource("1_7b6bo")]
script = ExtResource("2_r5e0i")

[node name="Armature" parent="." index="0"]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0, 0)

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(0.00147068, 1.20668, 0.0278424)
bones/0/rotation = Quaternion(-0.0246297, 0.000218764, -0.00166132, 0.999695)
bones/0/scale = Vector3(1.00149, 1.00149, 1.00149)
bones/1/rotation = Quaternion(0.0866126, 0.00186618, 0.00162568, 0.996239)
bones/1/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/2/rotation = Quaternion(0.187963, 0.00187373, 0.00161685, 0.982173)
bones/2/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/3/rotation = Quaternion(0.204413, 0.00156285, 0.00193503, 0.978882)
bones/3/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/4/rotation = Quaternion(0.0567101, 0.00172846, 0.00177202, 0.998388)
bones/4/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/5/rotation = Quaternion(-0.355423, 0.00180228, 0.00169958, 0.934702)
bones/5/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/6/rotation = Quaternion(0.0373965, -0.0878018, -0.693114, 0.714483)
bones/6/scale = Vector3(0.99976, 0.99976, 0.99976)
bones/7/rotation = Quaternion(0.260129, -0.0762295, 0.254204, 0.928387)
bones/7/scale = Vector3(1.00039, 1.00039, 1.00039)
bones/8/rotation = Quaternion(0.540395, 0.439095, -0.29117, 0.65604)
bones/8/scale = Vector3(1.00149, 1.00149, 1.00149)
bones/9/rotation = Quaternion(0.0738409, 0.0113914, 0.0608321, 0.995348)
bones/9/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/10/rotation = Quaternion(0.201432, -0.0104997, -0.0681048, 0.977076)
bones/10/scale = Vector3(1.00021, 1.00021, 1.00021)
bones/11/rotation = Quaternion(0.302384, -0.0239839, -0.203834, 0.930828)
bones/11/scale = Vector3(1.00017, 1.00017, 1.00017)
bones/12/rotation = Quaternion(0.280608, -0.0345229, -0.110933, 0.952765)
bones/12/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/13/position = Vector3(-0.154901, 0.228402, 0.00403802)
bones/13/rotation = Quaternion(-0.100861, 0.0259372, 0.0786077, 0.991451)
bones/13/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/14/rotation = Quaternion(0.204048, 0.00194086, -0.238249, 0.949525)
bones/14/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/15/position = Vector3(-0.0902236, 0.056733, -0.0218957)
bones/15/rotation = Quaternion(0.0811368, 0.496336, 0.505977, 0.700753)
bones/15/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/16/rotation = Quaternion(0.156656, -0.0168709, -0.366529, 0.916969)
bones/16/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/17/rotation = Quaternion(0.0377775, 0.0875819, 0.692801, 0.714793)
bones/17/scale = Vector3(0.99976, 0.99976, 0.99976)
bones/18/rotation = Quaternion(0.260244, 0.0765286, -0.253797, 0.928442)
bones/18/scale = Vector3(1.00039, 1.00039, 1.00039)
bones/19/rotation = Quaternion(0.564044, -0.492125, 0.246231, 0.61566)
bones/19/scale = Vector3(1.00149, 1.00149, 1.00149)
bones/20/rotation = Quaternion(0.0808185, -0.00713338, -0.0705337, 0.994205)
bones/20/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/21/rotation = Quaternion(0.184903, 0.00681014, 0.0455862, 0.981675)
bones/21/scale = Vector3(1.00021, 1.00021, 1.00021)
bones/22/rotation = Quaternion(0.331312, 0.0137272, 0.148968, 0.931586)
bones/22/scale = Vector3(1.00017, 1.00017, 1.00017)
bones/23/rotation = Quaternion(0.305432, 0.0287923, 0.0682723, 0.949327)
bones/23/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/24/position = Vector3(0.157927, 0.226648, 0.00395866)
bones/24/rotation = Quaternion(-0.0590584, -0.0122253, -0.0788354, 0.995062)
bones/24/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/25/rotation = Quaternion(0.219159, 0.0107447, 0.209765, 0.952813)
bones/25/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/26/position = Vector3(0.0890173, 0.0536953, -0.0206487)
bones/26/rotation = Quaternion(0.132647, -0.383571, -0.612921, 0.677942)
bones/26/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/27/rotation = Quaternion(0.175498, 0.082346, 0.457064, 0.868051)
bones/27/scale = Vector3(1.00175, 1.00175, 1.00175)
bones/28/position = Vector3(0.110417, 0.0154938, 0.0184543)
bones/28/rotation = Quaternion(-0.302469, 0.0791605, 0.942713, -0.116353)
bones/28/scale = Vector3(1.00254, 1.00253, 1.00253)
bones/29/rotation = Quaternion(-0.174727, 0.0289033, -0.202688, 0.963095)
bones/29/scale = Vector3(1.00039, 1.00039, 1.00039)
bones/30/rotation = Quaternion(0.0536249, -0.00129563, 0.0469602, 0.997456)
bones/30/scale = Vector3(1.00229, 1.00229, 1.00229)
bones/31/rotation = Quaternion(0.031773, -0.0254501, 0.184682, 0.981955)
bones/31/scale = Vector3(1.00051, 1.00051, 1.00051)
bones/32/position = Vector3(-0.11444, 0.0165055, 0.0213657)
bones/32/rotation = Quaternion(0.297821, 0.0781144, 0.944871, 0.111444)
bones/32/scale = Vector3(1.00254, 1.00253, 1.00253)
bones/33/rotation = Quaternion(-0.174736, -0.0285457, 0.20306, 0.963026)
bones/33/scale = Vector3(1.00039, 1.00039, 1.00039)
bones/34/rotation = Quaternion(0.0536545, 0.00590391, -0.0423904, 0.997642)
bones/34/scale = Vector3(1.00229, 1.00229, 1.00229)
bones/35/rotation = Quaternion(0.0318561, 0.0262819, -0.183976, 0.982063)
bones/35/scale = Vector3(1.00051, 1.00051, 1.00051)

[node name="Cube" parent="Armature/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("ShaderMaterial_o06hh")
surface_material_override/1 = SubResource("ShaderMaterial_77uri")

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="1"]
transform = Transform3D(1.01008, -0.0165007, 0.0116335, 0.0192072, 0.964734, -0.299307, -0.00622051, 0.299468, 0.964855, 0.00134785, 1.99107, 0.477619)
bone_name = "Head"
bone_idx = 5

[node name="GPUParticles3D" type="GPUParticles3D" parent="Armature/Skeleton3D/BoneAttachment3D" index="0"]
transform = Transform3D(1, 0, -2.84217e-14, 5.42101e-20, 1, -2.27374e-13, 2.84217e-14, 2.27374e-13, 1, 0, 0.4, 0.02)
amount = 100
randomness = 1.0
visibility_aabb = AABB(-1, -1, -1, 2, 2, 2)
draw_order = 3
process_material = SubResource("ParticleProcessMaterial_y3mn1")
draw_pass_1 = SubResource("QuadMesh_d5qb4")

[node name="AnimationPlayer" parent="." index="1"]
autoplay = "idle"
playback_default_blend_time = 0.2

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_p8p5a")
anim_player = NodePath("../AnimationPlayer")
